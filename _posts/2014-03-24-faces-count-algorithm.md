---
layout: post
title:  "How many Faces"
date:   2014-03-24 15:25:49
categories: algorithm
---
* ###问题：在一个多边形中，如果知道多边形的顶点数目为V，边数为E，求它的面数。

	>这个问题可以用欧拉公式来解决，设F为面数，则欧拉定理可表示为:对于简单对面体，有`V-E+F=2`成立，具体可以查看[wiki](http://en.wikipedia.org/wiki/Euler_characteristic)。而将简单多面体去掉一个面，然后展开，就是一个普通的多边形，因此它遵从定理`V-E+F=1`，因此上述问题也就迎刃而解了。

* ###问题：一块椭圆的土地，在边界上选n个点，然后两两连接得到`n(n+1)/2`条线段，问最多能把土地分成多少块。
	
	>这个问题和上一个问题一样，是要求多边形的面数。因为面的数目不好直接确定，但是顶点数目和边的数目却可以通过对每个顶点进行分析来获得。首先我们不考虑椭圆，我们先考虑n个顶点所组成的多边形能得到的面数，然后将此面数加上椭圆与多边形形成的面数n即可获得椭圆的面数。

	-  **首先求顶点的数目**

		对于n个顶点中的任意一个顶点`Vi`和`Vi`之外的另一个顶点`Vj`，设`ViVj`边的左方有i个顶点，那么右边就有`n-2-i`个顶点，对于两边的任意两个顶点的连线都会与`ViVj`产生一个顶点，因此可以产生`f(i)=i(n-2-i)`个顶点。而`Vj`是除了`Vi`外的任意一个节点，这也就是说对于`0<=i<=n-2`上的任意i都能获得`f(i)`个顶点，因此对于Vi总共可以产生的节点数为`g(n)=f(0)+f(1)+f(2)+...+f(n-2)`，又因为这样计算，每个顶点被重复计算了四次（对应顶点所在的两条交叉线段的四个顶点都进行计算了），因此每个顶点产生的顶点数为`g(n)/4`，n个顶点可以产生`n*g(n)/4`个顶点，再加上原来的n个顶点即得总定点数，即`V=n*g(n)/4+n`。

	-  **然后求边的数目**

		边的数目跟上面的分析类似，首先对于任意顶点`Vi`和`Vj`，设左方的顶点数为`i`，则右边的顶点数为`n-2-i`，在左右两边各取一个顶点进行连接就可以分割`ViVj`，使得`ViVj`上的边数加1，初始时`ViVj`就有就有一条边，因此总共可以产生`f(i)=i(n-2-i)+1`条边，当j在`0<=j<=n-2`范围内变化时，对于`Vi`可以产生`g(n)=f(0)+f(1)+...f(n-2)`条边，而每一条产生的边都会被所在的两端的顶点各计算一次，因此对于`Vi`，产生的顶点数为`g(n)/2`,对于n个顶点总共可以得到`n*g(n)/2`，再加上原来的n条边，因此总的边数为`E=n*g(n)/2`。

	-  **获得总面数**

		根据`V-E+F=1`，可以获得多边形的面数`E`，最后的总面熟即为`E+n`。